import time
#from functools import wraps


def transaction_logger(func):
    #@wraps(func)
    def wrapper(*args,**kwargs):
        print("\n [log] transaction started")
        start_time = time.time()
        result = func(*args,**kwargs)
        end_time = time.time()
        print("[log] transaction completed")
        print(f"[log] time taken:{end_time - start_time:.4f} seconds")
        return result
    return wrapper


#functions nothing but decorators
@transaction_logger
def deposit(balance,amount):
    print(f" depositing {amount}")
    return balance+amount

def withdraw(balance,amount):
    print(f"withdrawing {amount}")
    if amount> balance:
        print("insufficient balance")
        return balance
    return balance-amount
#main program
balance = 5000
print("initial balance:",balance)

balance = deposit(balance,2000)
print("balance after deposit:",balance)

balance = withdraw(balance,8000)
print("balance after withdrawal",balance)
